{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/gatewayClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":60,"index":113}}],"key":"USoZoxnjXIFKnjJ2kTGjFbrs0yc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useActiveTags;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesGatewayClient = require(_dependencyMap[1], \"../services/gatewayClient\");\n  function useActiveTags({\n    intervalMs = 1000\n  } = {}) {\n    _s();\n    const [scans, setScans] = (0, _react.useState)([]);\n    const [status, setStatus] = (0, _react.useState)(\"connecting\");\n    const [error, setError] = (0, _react.useState)(null);\n    const timerRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      let alive = true;\n      async function tick() {\n        try {\n          const rows = await (0, _servicesGatewayClient.fetchActiveTags)();\n          if (!alive) return;\n          setScans(rows ?? []);\n          setStatus(\"live\");\n          setError(null);\n        } catch (e) {\n          if (!alive) return;\n          setStatus(\"error\");\n          setError(e?.message || String(e));\n        }\n      }\n      tick();\n      timerRef.current = setInterval(tick, intervalMs);\n      return () => {\n        alive = false;\n        if (timerRef.current) clearInterval(timerRef.current);\n      };\n    }, [intervalMs]);\n    return {\n      scans,\n      status,\n      error\n    };\n  }\n  _s(useActiveTags, \"KInimvhnJ2Eq/BlrSOdLc2g2hlM=\");\n});","lineCount":53,"map":[[8,2,4,15,"Object"],[8,8,4,15],[8,9,4,15,"defineProperty"],[8,23,4,15],[8,24,4,15,"exports"],[8,31,4,15],[9,4,4,15,"enumerable"],[9,14,4,15],[10,4,4,15,"get"],[10,7,4,15],[10,18,4,15,"get"],[10,19,4,15],[11,6,4,15],[11,13,4,15,"useActiveTags"],[11,26,4,15],[12,4,4,15],[13,2,4,15],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_servicesGatewayClient"],[15,28,2,0],[15,31,2,0,"require"],[15,38,2,0],[15,39,2,0,"_dependencyMap"],[15,53,2,0],[16,2,4,15],[16,11,4,24,"useActiveTags"],[16,24,4,37,"useActiveTags"],[16,25,4,38],[17,4,4,40,"intervalMs"],[17,14,4,50],[17,17,4,53],[18,2,4,58],[18,3,4,59],[18,6,4,62],[18,7,4,63],[18,8,4,64],[18,10,4,66],[19,4,4,66,"_s"],[19,6,4,66],[20,4,5,2],[20,10,5,8],[20,11,5,9,"scans"],[20,16,5,14],[20,18,5,16,"setScans"],[20,26,5,24],[20,27,5,25],[20,30,5,28],[20,34,5,28,"useState"],[20,40,5,36],[20,41,5,36,"useState"],[20,49,5,36],[20,51,5,37],[20,53,5,39],[20,54,5,40],[21,4,6,2],[21,10,6,8],[21,11,6,9,"status"],[21,17,6,15],[21,19,6,17,"setStatus"],[21,28,6,26],[21,29,6,27],[21,32,6,30],[21,36,6,30,"useState"],[21,42,6,38],[21,43,6,38,"useState"],[21,51,6,38],[21,53,6,39],[21,65,6,51],[21,66,6,52],[22,4,7,2],[22,10,7,8],[22,11,7,9,"error"],[22,16,7,14],[22,18,7,16,"setError"],[22,26,7,24],[22,27,7,25],[22,30,7,28],[22,34,7,28,"useState"],[22,40,7,36],[22,41,7,36,"useState"],[22,49,7,36],[22,51,7,37],[22,55,7,41],[22,56,7,42],[23,4,8,2],[23,10,8,8,"timerRef"],[23,18,8,16],[23,21,8,19],[23,25,8,19,"useRef"],[23,31,8,25],[23,32,8,25,"useRef"],[23,38,8,25],[23,40,8,26],[23,44,8,30],[23,45,8,31],[24,4,10,2],[24,8,10,2,"useEffect"],[24,14,10,11],[24,15,10,11,"useEffect"],[24,24,10,11],[24,26,10,12],[24,32,10,18],[25,6,11,4],[25,10,11,8,"alive"],[25,15,11,13],[25,18,11,16],[25,22,11,20],[26,6,13,4],[26,21,13,19,"tick"],[26,25,13,23,"tick"],[26,26,13,23],[26,28,13,26],[27,8,14,6],[27,12,14,10],[28,10,15,8],[28,16,15,14,"rows"],[28,20,15,18],[28,23,15,21],[28,29,15,27],[28,33,15,27,"fetchActiveTags"],[28,55,15,42],[28,56,15,42,"fetchActiveTags"],[28,71,15,42],[28,73,15,43],[28,74,15,44],[29,10,16,8],[29,14,16,12],[29,15,16,13,"alive"],[29,20,16,18],[29,22,16,20],[30,10,17,8,"setScans"],[30,18,17,16],[30,19,17,17,"rows"],[30,23,17,21],[30,27,17,25],[30,29,17,27],[30,30,17,28],[31,10,18,8,"setStatus"],[31,19,18,17],[31,20,18,18],[31,26,18,24],[31,27,18,25],[32,10,19,8,"setError"],[32,18,19,16],[32,19,19,17],[32,23,19,21],[32,24,19,22],[33,8,20,6],[33,9,20,7],[33,10,20,8],[33,17,20,15,"e"],[33,18,20,16],[33,20,20,18],[34,10,21,8],[34,14,21,12],[34,15,21,13,"alive"],[34,20,21,18],[34,22,21,20],[35,10,22,8,"setStatus"],[35,19,22,17],[35,20,22,18],[35,27,22,25],[35,28,22,26],[36,10,23,8,"setError"],[36,18,23,16],[36,19,23,17,"e"],[36,20,23,18],[36,22,23,20,"message"],[36,29,23,27],[36,33,23,31,"String"],[36,39,23,37],[36,40,23,38,"e"],[36,41,23,39],[36,42,23,40],[36,43,23,41],[37,8,24,6],[38,6,25,4],[39,6,27,4,"tick"],[39,10,27,8],[39,11,27,9],[39,12,27,10],[40,6,28,4,"timerRef"],[40,14,28,12],[40,15,28,13,"current"],[40,22,28,20],[40,25,28,23,"setInterval"],[40,36,28,34],[40,37,28,35,"tick"],[40,41,28,39],[40,43,28,41,"intervalMs"],[40,53,28,51],[40,54,28,52],[41,6,30,4],[41,13,30,11],[41,19,30,17],[42,8,31,6,"alive"],[42,13,31,11],[42,16,31,14],[42,21,31,19],[43,8,32,6],[43,12,32,10,"timerRef"],[43,20,32,18],[43,21,32,19,"current"],[43,28,32,26],[43,30,32,28,"clearInterval"],[43,43,32,41],[43,44,32,42,"timerRef"],[43,52,32,50],[43,53,32,51,"current"],[43,60,32,58],[43,61,32,59],[44,6,33,4],[44,7,33,5],[45,4,34,2],[45,5,34,3],[45,7,34,5],[45,8,34,6,"intervalMs"],[45,18,34,16],[45,19,34,17],[45,20,34,18],[46,4,36,2],[46,11,36,9],[47,6,36,11,"scans"],[47,11,36,16],[48,6,36,18,"status"],[48,12,36,24],[49,6,36,26,"error"],[50,4,36,32],[50,5,36,33],[51,2,37,0],[52,2,37,1,"_s"],[52,4,37,1],[52,5,4,24,"useActiveTags"],[52,18,4,37],[53,0,4,37],[53,3]],"functionMap":{"names":["<global>","useActiveTags","useEffect$argument_0","tick","<anonymous>"],"mappings":"AAA;eCG;YCM;ICG;KDY;WEK;KFG;GDC"},"hasCjsExports":false},"type":"js/module"}]}